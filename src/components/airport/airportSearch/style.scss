@use "../../../styles/utils" as *;

/* =========================
   레이아웃
   ========================= */
.airport {
  width: 100%;
  margin-top: vw(260px);

  .inner {
    padding: 100px 0;
    display: flex;
    gap: 40px;

    /* 좌측 필터 박스 */
    .filter-wrap {
      width: vw(300px);

      /* 이벤트 카드(있을 때) */
      .event-modal {
        margin: 0 auto;
        margin-bottom: vw(48px);

        .event-card {
          width: vw(300px);
          height: vw(140px);
          border-radius: vw(12px);
          padding: vw(20px);
          display: flex;
          justify-content: space-between;
          align-items: center;
          background: #f9f9f9;

          .text-box {
            display: flex;
            justify-content: center;
            align-items: center;

            p {
              @include font-18px-M;
              color: $default;
            }

            img {
              width: vw(60px);
              margin: 0 vw(10px);
            }
          }
        }
      }

      /* 스와이퍼 화살표 숨김 (있는 경우) */
      .swiper-button-prev,
      .swiper-button-next {
        color: transparent;
      }

      /* 공통 필터 블럭 */
      .filter {
        .filtering {
          margin-bottom: vw(48px);

          p {
            @include font-20px-M;
            margin-bottom: vw(24px);
          }

          ul {
            margin-left: vw(20px);

            li {
              @include font-16px;
              display: flex;
              align-items: center;
              gap: vw(12px);
              color: $default;

              span {
                width: vw(14px);
                height: vw(14px);
                display: inline-block;
                border: vw(1px) solid $default;
                border-radius: vw(3px);
              }
            }
          }
        }
      }

      /* 경유 체크박스 */
      .type {
        .type-title {
          display: flex;
          justify-content: space-between;
          align-items: center;

          .redo {
            color: $greyscale-1000;
            @include font-16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: vw(6px);
            margin-bottom: vw(24px);
          }
        }

        ul {
          margin-left: vw(20px);
          display: flex;
          flex-direction: column;
          gap: vw(10px);

          input[type="checkbox"] {
            position: relative;
            appearance: none;
            -webkit-appearance: none;
            width: vw(18px);
            height: vw(18px);
            display: inline-block;
            border: vw(1px) solid #353535;
            border-radius: vw(3px);
            cursor: pointer;

            &:checked {
              background-color: $orange;
              border-color: $orange;
            }

            &:checked::after {
              content: "✔";
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              color: $white;
              @include font-12px;
            }
          }

          strong {
            @include font-16px;
            color: $default;
          }
        }
      }

      /* 항공사 선택 버튼 */
      .star {
        ul {
          display: flex;
          flex-wrap: wrap;
          gap: vw(12px);

          li {
            button {
              padding: vw(6px) vw(15px);
              box-sizing: border-box;
              background-color: $white;
              border-radius: vw(40px);
              border: 1px solid $greyscale-1000;
              cursor: pointer;
              color: $default;
              @include font-14px-M;

              &:hover {
                background-color: $greyscale-400;
              }

              &.active {
                background-color: $orange;
                border: none;
                color: $white;
              }
            }
          }
        }
      }

      /* ===== 가격 더블 슬라이더 ===== */
      .price {
        .price-slider {
          .ranges {
            position: relative;
            height: vw(38px); /* 툴팁 공간 포함 */
            margin: 0 vw(6px) vw(10px);

            /* 2개의 range를 동일 위치에 겹치기 */
            input[type="range"] {
              position: absolute;
              inset: 0;
              width: 100%;
              height: vw(10px);
              margin: 0;
              background: none;
              pointer-events: none; /* 트랙에 클릭 못하게 */
              -webkit-appearance: none;
              appearance: none;
              z-index: 10; /* 기본 z-index */
            }

            /* 오른쪽 슬라이더가 위로 오도록 */
            input[type="range"]:nth-of-type(2) {
              z-index: 200;
            }

            /* 기본 트랙(회색) */
            input[type="range"]::-webkit-slider-runnable-track {
              height: vw(6px);
              background: $greyscale-400;
              border-radius: vw(6px);
              pointer-events: none;
            }
            input[type="range"]::-moz-range-track {
              height: vw(6px);
              background: $greyscale-400;
              border-radius: vw(6px);
              pointer-events: none;
            }

            /* 핸들(thumb) — 트랙 위 & 세로 가운데 정렬  */
            input[type="range"]::-webkit-slider-thumb {
              -webkit-appearance: none;
              width: vw(18px);
              height: vw(18px);
              border-radius: 50%;
              background: $orange;
              border: 0;
              cursor: pointer;
              pointer-events: auto; /* thumb만 드래그 가능 */
              position: relative;
              z-index: 3; /* 회색 트랙/주황 라인 위 */
              margin-top: -6px; /* (thumb 18 - track 6)/2 = 6 */
              box-shadow: 0 0 0 vw(2px) $white;
            }
            input[type="range"]::-moz-range-thumb {
              width: vw(18px);
              height: vw(18px);
              border-radius: 50%;
              background: $orange;
              border: 0;
              cursor: pointer;
              pointer-events: auto;
              position: relative;
              z-index: 3;
            }

            /* 선택 구간(주황 라인) — 트랙 위에 표시 */
            .track-fill {
              position: absolute;
              top: 50%;
              transform: translateY(-50%);
              height: vw(6px);
              background: $orange;
              border-radius: vw(6px);
              z-index: 2; /* 트랙 위, thumb 아래 */
              left: 0;
              right: 0; /* JS에서 left/right 업데이트 */
              pointer-events: none;
            }

            /* 가격 툴팁 */
            .price-tooltip {
              position: absolute;
              bottom: vw(30px);
              transform: translateX(-50%);
              background: #4a4a4a;
              color: #fff;
              padding: 6px 10px;
              border-radius: 6px;
              white-space: nowrap;
              @include font-14px;
              pointer-events: none;
              z-index: 30;
            }
          }

          .desc {
            @include font-14px;
            color: $default;

            strong {
              color: $mint;
              @include font-16px-M;
            }
          }
        }
      }

      /* 무료 수화물 */
      .discount {
        ul {
          margin-left: vw(20px);
          display: flex;
          flex-direction: column;
          gap: vw(10px);

          input[type="checkbox"] {
            position: relative;
            appearance: none;
            -webkit-appearance: none;
            width: vw(18px);
            height: vw(18px);
            display: inline-block;
            border: vw(1px) solid #353535;
            border-radius: vw(3px);
            cursor: pointer;

            &:checked {
              background-color: $orange;
              border-color: $orange;
            }

            &:checked::after {
              content: "✔";
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              color: $white;
              @include font-12px;
            }
          }

          strong {
            @include font-16px;
            color: $default;
          }
        }
      }
    }

    /* 오른쪽 리스트 영역 */
    .list-wrap {
      flex: 1;

      .sort-select {
        display: flex;
        justify-content: flex-end;
        margin-bottom: vw(12px);

        select {
          padding: 6px 10px;
          border: 1px solid #d5d9df;
          border-radius: 6px;
          background: #fff;
          @include font-14px;
        }
      }

      .list-box {
        display: flex;
        flex-direction: column;
        gap: vw(20px);
      }
    }
  }

  @include tablet {
    .about {
      .inner {
        padding: 2rem 0;
      }
      h2 {
        font-size: 2rem;
      }
    }
  }
}

/* =========================
   항공 카드
   ========================= */
.airport-box {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1fr; /* 항공사 / 출발 / 비행정보 / 도착 / 가격 */
  align-items: center;
  gap: vw(10px);
  width: 100%;
  padding: vw(28px);
  border: 1px solid $greyscale-500;
  border-radius: vw(15px);
  background: #fff;
  box-shadow: 0 vw(2px) vw(6px) rgba(0, 0, 0, 0.05);
  cursor: default;
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 vw(6px) vw(14px) rgba(0, 0, 0, 0.1);
  }

  /* 항공사 */
  .airline {
    display: flex;
    align-items: center;
    gap: vw(16px);

    .logo {
      width: vw(36px);
      height: vw(36px);

      img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 50%;
        border: 1px solid $greyscale-400;
      }

      .placeholder {
        display: block;
        width: 100%;
        height: 100%;
        background: $greyscale-200;
        border-radius: 50%;
      }
    }

    .info {
      text-align: left;

      .name {
        @include font-20px;
      }
      .code {
        @include font-16px;
        color: $greyscale-1000;
      }
    }
  }

  /* 출발/도착 */
  .departure,
  .arrival {
    width: vw(160px);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: vw(4px);

    .date {
      @include font-14px;
      color: $greyscale-900;
    }
    .time {
      @include font-22px;
      color: $default;
    }
    .airport {
      @include font-14px;
      color: $greyscale-900;
      margin: 0;
      text-align: center;
    }
  }

  /* 비행 정보 */
  .airport-info {
    text-align: center;

    .timeline {
      align-items: center;
      gap: vw(8px);
      margin-bottom: vw(6px);

      .duration {
        @include font-18px;
        color: $default;
        white-space: nowrap;
      }
    }

    .direct {
      @include font-18px-M;
      color: $mint;
    }
  }

  /* 가격 */
  .price {
    text-align: right;
    @include font-22px;
    color: $default;
  }
}
